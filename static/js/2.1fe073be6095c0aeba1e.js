webpackJsonp([2],{"1vgp":function(e,t){},HQ8J:function(e,t){e.exports="data:image/png;base64,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"},"J/85":function(e,t){},XWBe:function(e,t){},bmoV:function(e,t){},emPC:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="",s={created:function(){a=this,this.reloadUsers()},data:function(){return{ed:{user:{username:"",nickname:"",password:"",email:"",roles:[]}},show:{addUser:!1},page:{pageIndex:1,pageSize:10,total:0},list:{users:[],roles:[]}}},methods:{delUser:function(e){a.$confirm("确定要删除吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(t){axios.get("/human/delBack?id="+e.id).then(function(e){200==e.code&&(a.$message({message:"删除成功",type:"success"}),a.reloadUsers())})})},pageChange:function(e){a.page.pageIndex=e,a.reloadUsers()},addUser:function(e,t){"show"==e&&(a.show.addUser=!0,a.reloadRoles()),"edit"==e&&(a.reloadRoles(),a.show.addUser=!0,a.ed.user.id=t.id,a.ed.user.username=t.username,a.ed.user.nickname=t.nickname,a.ed.user.password=t.password,a.ed.user.email=t.email,a.ed.user.roles=t.roles.map(function(e){return e.id})),"close"==e&&(a.show.addUser=!1,a.ed.user.id="",a.ed.user.username="",a.ed.user.nickname="",a.ed.user.password="",a.ed.user.email="",a.ed.user.roles=[]),"confirm"==e&&axios.get("/human/addHumanFromBack",{params:{id:a.ed.user.id,username:a.ed.user.username,nickname:a.ed.user.nickname,raw_password:a.ed.user.password,email:a.ed.user.email,roleIds:a.ed.user.roles.join(",")}}).then(function(e){a.addUser("close"),200==e.code&&(a.$message({message:"添加成功",type:"success"}),a.reloadUsers())})},reloadUsers:function(){axios.get("/human/backList").then(function(e){200==e.code&&(a.list.users=e.data)})},reloadRoles:function(){axios.get("/humanRole/get").then(function(e){200==e.code&&(a.list.roles=e.data.content)})}}},n={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-button",{staticStyle:{margin:"10px 20px"},attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.addUser("show")}}},[e._v("直接添加用户")]),e._v(" "),o("el-table",{attrs:{data:e.list.users}},[o("el-table-column",{attrs:{label:"用户名","show-overflow-tooltip":!0,prop:"username"}}),e._v(" "),o("el-table-column",{attrs:{label:"昵称","show-overflow-tooltip":!0,prop:"nickname"}}),e._v(" "),o("el-table-column",{attrs:{label:"邮箱","show-overflow-tooltip":!0,prop:"email"}}),e._v(" "),o("el-table-column",{attrs:{label:"角色","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.roles,function(t,a){return o("el-tag",{key:a,staticStyle:{margin:"3px"},attrs:{size:"mini"}},[e._v("\n          "+e._s(t.roleName)+"\n        ")])})}}])}),e._v(" "),o("el-table-column",{attrs:{label:"操作","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit"},on:{click:function(o){return e.addUser("edit",t.row)}}},[e._v("编辑")]),e._v(" "),o("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(o){return e.delUser(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),o("el-pagination",{attrs:{"page-size":e.page.pageSize,"current-page":e.page.pageIndex,total:e.page.total},on:{"current-change":e.pageChange}}),e._v(" "),o("el-dialog",{attrs:{visible:e.show.addUser,title:"编辑/新建用户"},on:{"update:visible":function(t){return e.$set(e.show,"addUser",t)}}},[o("el-form",[o("el-form-item",{attrs:{label:"用户名"}},[[o("el-input",{model:{value:e.ed.user.username,callback:function(t){e.$set(e.ed.user,"username","string"==typeof t?t.trim():t)},expression:"ed.user.username"}})]],2),e._v(" "),o("el-form-item",{attrs:{label:"用户昵称"}},[[o("el-input",{model:{value:e.ed.user.nickname,callback:function(t){e.$set(e.ed.user,"nickname","string"==typeof t?t.trim():t)},expression:"ed.user.nickname"}})]],2),e._v(" "),o("el-form-item",{attrs:{label:"用户密码"}},[[o("el-input",{model:{value:e.ed.user.password,callback:function(t){e.$set(e.ed.user,"password","string"==typeof t?t.trim():t)},expression:"ed.user.password"}})]],2),e._v(" "),o("el-form-item",{attrs:{label:"用户邮箱"}},[[o("el-input",{model:{value:e.ed.user.email,callback:function(t){e.$set(e.ed.user,"email","string"==typeof t?t.trim():t)},expression:"ed.user.email"}})]],2),e._v(" "),o("el-form-item",{attrs:{label:"具有角色"}},[[o("div",{staticStyle:{margin:"15px 0"}}),e._v(" "),o("el-checkbox-group",{model:{value:e.ed.user.roles,callback:function(t){e.$set(e.ed.user,"roles",t)},expression:"ed.user.roles"}},[e._v("\n            "+e._s(e.list.roles)+"\n            "),e._l(e.list.roles,function(t,a){return o("el-checkbox",{key:a,attrs:{label:t.id}},[e._v(e._s(t.roleName))])})],2)]],2)],1),e._v(" "),o("el-row",{attrs:{type:"flex",justify:"center"}},[o("el-col",{attrs:{span:5}},[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addUser("confirm")}}},[e._v("确定")])],1),e._v(" "),o("el-col",{attrs:{span:5}},[o("el-button",[e._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]};var l=o("VU/8")(s,n,!1,function(e){o("XWBe")},null,null).exports,i="",r={mounted:function(){i=this,this.reloadRoles()},data:function(){return{ed:{role:{id:"",name:"",permission:[]}},show:{addRole:!1},page:{pageIndex:1,pageSize:10,total:0},list:{roles:[],permission:[]}}},methods:{delRole:function(e){i.$confirm("确定要删除吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(t){axios.get("/humanRole/delBack?id="+e.roleId).then(function(e){200==e.code&&(i.$message({message:"删除成功",type:"success"}),i.reloadRoles())})})},pageChange:function(e){i.page.pageIndex=e,i.reloadRoles()},addRole:function(e,t){"show"==e&&(i.addRole("close"),i.show.addRole=!0,i.reloadPermissions()),"edit"==e&&(i.show.addRole=!0,i.ed.role.id=t.roleId,i.ed.role.name=t.name,i.ed.role.permission=t.permissions.map(function(e){return e.id}),i.reloadPermissions()),"close"==e&&(i.show.addRole=!1,i.ed.role.id="",i.ed.role.name="",i.ed.role.permission=[]),"confirm"==e&&axios.get("/humanRole/addRoleBack",{params:{id:i.ed.role.id,roleName:i.ed.role.name,permissionIds:i.ed.role.permission.join(",")}}).then(function(e){i.addRole("close"),200==e.code&&(i.$message({message:"添加成功",type:"success"}),i.reloadRoles())})},reloadRoles:function(){axios.get("/humanRole/getRoleBackWithPermission").then(function(e){200==e.code&&(i.list.roles=e.data,i.page.total=e.additonalData.total)})},reloadPermissions:function(){axios.get("/permission/getPermissionBackWithRoleName").then(function(e){200==e.code&&(i.list.permission=e.data)})}}},d={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-button",{staticStyle:{margin:"10px 20px"},attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.addRole("show")}}},[e._v("直接添加角色")]),e._v(" "),o("el-table",{attrs:{data:e.list.roles}},[o("el-table-column",{attrs:{label:"角色名","show-overflow-tooltip":!0,prop:"name"}}),e._v(" "),o("el-table-column",{attrs:{label:"拥有权限","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.permissions,function(t,a){return o("el-tag",{key:a,staticStyle:{margin:"3px"},attrs:{size:"mini"}},[e._v("\n          "+e._s(t.name)+"\n        ")])})}}])}),e._v(" "),o("el-table-column",{attrs:{label:"操作","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit"},on:{click:function(o){return e.addRole("edit",t.row)}}},[e._v("编辑")]),e._v(" "),o("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(o){return e.delRole(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),o("el-pagination",{attrs:{"page-size":e.page.pageSize,"current-page":e.page.pageIndex,total:e.page.total},on:{"current-change":e.pageChange}}),e._v(" "),o("el-dialog",{attrs:{visible:e.show.addRole,title:"编辑/新建角色"},on:{"update:visible":function(t){return e.$set(e.show,"addRole",t)}}},[o("el-form",{attrs:{"abel-position":"left"}},[o("el-form-item",{attrs:{label:"角色名:"}},[o("el-input",{model:{value:e.ed.role.name,callback:function(t){e.$set(e.ed.role,"name","string"==typeof t?t.trim():t)},expression:"ed.role.name"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"具有 permission:"}},[[o("div",[o("el-checkbox-group",{model:{value:e.ed.role.permission,callback:function(t){e.$set(e.ed.role,"permission",t)},expression:"ed.role.permission"}},e._l(e.list.permission,function(t,a){return o("el-checkbox",{key:a,attrs:{label:t.id}},[e._v(e._s(t.name))])}),1)],1)]],2)],1),e._v(" "),o("el-row",{attrs:{type:"flex",justify:"center"}},[o("el-col",{attrs:{span:5}},[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addRole("confirm")}}},[e._v("确定")])],1),e._v(" "),o("el-col",{attrs:{span:5}},[o("el-button",[e._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]};var c=o("VU/8")(r,d,!1,function(e){o("rVtd")},null,null).exports,p="",u={created:function(){p=this,this.reloadPermissions()},data:function(){return{ed:{permission:{id:"",name:"",frontUrls:"",backUrls:""}},show:{addPermission:!1},page:{pageIndex:1,pageSize:10,total:0},list:{users:[]}}},methods:{delPermission:function(e){p.$confirm("确定要删除吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(t){axios.get("/permission/delBack?id="+e.id).then(function(e){200==e.code&&(p.$message({message:"删除成功",type:"success"}),p.reloadPermissions())})})},pageChange:function(e){p.page.pageIndex=e,p.reloadPermissions()},addPermission:function(e,t){if("show"==e&&(p.show.addPermission=!0,p.reloadRoles()),"close"==e&&(p.show.addPermission=!1,p.ed.permission.id="",p.ed.permission.name="",p.ed.permission.frontUrls="",p.ed.permission.backUrls=""),"edit"==e&&(p.show.addPermission=!0,p.ed.permission.id=t.id,p.ed.permission.name=t.name,p.ed.permission.frontUrls=t.frontUrls,p.ed.permission.backUrls=t.backUrls),"confirm"==e){var o="/permission/add",a={name:p.ed.permission.name,frontUrls:p.ed.permission.frontUrls,backUrls:p.ed.permission.backUrls};p.ed.permission.id&&(o="/permission/update",a.id=p.ed.permission.id),axios.get(o,{params:a}).then(function(e){p.addPermission("close"),200==e.code&&(p.$message({message:"添加成功",type:"success"}),p.reloadPermissions())})}},reloadPermissions:function(){axios.get("/permission/getPermissionBackWithRoleName").then(function(e){200==e.code&&(p.list.users=e.data,p.page.total=e.additonalData.total)})},reloadRoles:function(){axios.get("/humanRole/get").then(function(e){200==e.code&&(p.list.roles=e.data.content)})}}},m={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-button",{staticStyle:{margin:"10px 20px"},attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.addPermission("show")}}},[e._v("直接添加permission")]),e._v(" "),o("el-table",{attrs:{data:e.list.users}},[o("el-table-column",{attrs:{label:"permission名称","show-overflow-tooltip":!0,prop:"name"}}),e._v(" "),o("el-table-column",{attrs:{label:"前端允许访问地址","show-overflow-tooltip":!0,prop:"frontUrls"}}),e._v(" "),o("el-table-column",{attrs:{label:"允许访问接口","show-overflow-tooltip":!0,prop:"backUrls"}}),e._v(" "),o("el-table-column",{attrs:{label:"操作","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit"},on:{click:function(o){return e.addPermission("edit",t.row)}}},[e._v("编辑")]),e._v(" "),o("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(o){return e.delPermission(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),o("el-pagination",{attrs:{"page-size":e.page.pageSize,"current-page":e.page.pageIndex,total:e.page.total},on:{"current-change":e.pageChange}}),e._v(" "),o("el-dialog",{attrs:{visible:e.show.addPermission,title:"编辑/新建 permission"},on:{"update:visible":function(t){return e.$set(e.show,"addPermission",t)}}},[o("el-form",[o("el-form-item",{attrs:{label:"名称"}},[[o("el-input",{model:{value:e.ed.permission.name,callback:function(t){e.$set(e.ed.permission,"name","string"==typeof t?t.trim():t)},expression:"ed.permission.name"}})]],2),e._v(" "),o("el-form-item",{attrs:{label:"前端允许访问地址"}},[[o("el-input",{attrs:{type:"textarea"},model:{value:e.ed.permission.frontUrls,callback:function(t){e.$set(e.ed.permission,"frontUrls","string"==typeof t?t.trim():t)},expression:"ed.permission.frontUrls"}})]],2),e._v(" "),o("el-form-item",{attrs:{label:"允许访问接口"}},[[o("el-input",{attrs:{type:"textarea"},model:{value:e.ed.permission.backUrls,callback:function(t){e.$set(e.ed.permission,"backUrls","string"==typeof t?t.trim():t)},expression:"ed.permission.backUrls"}})]],2)],1),e._v(" "),o("el-row",{attrs:{type:"flex",justify:"center"}},[o("el-col",{attrs:{span:5}},[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addPermission("confirm")}}},[e._v("确定")])],1),e._v(" "),o("el-col",{attrs:{span:5}},[o("el-button",[e._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]};var f=o("VU/8")(u,m,!1,function(e){o("pEDR")},null,null).exports,g="",b={mounted:function(){g=this,this.reloadItems()},props:{propType:{default:"datasetType",type:String}},computed:{addButtonText:function(){return"blogType"==this.type?"添加论坛类型":"datasetType"==this.type?"添加数据类型":void 0}},data:function(){return{loading:{items:!1},type:"datasetType",ed:{role:{id:"",name:"",permission:[]},datasetType:{},blogType:{}},show:{addItem:!1},page:{pageIndex:1,pageSize:10,total:0},list:{items:[]}}},created:function(){this.type=this.propType},methods:{logoUploadSuccess:function(e,t){"datasetType"==this.type&&(this.ed.datasetType.logo=e.fileCode),"blogType"==this.type&&(this.ed.blogType.logo=e.fileCode)},delItem:function(e){g.$confirm("确定要删除吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(t){var o="";"datasetType"==g.type&&(o="/datasetType/del?id="+e),"blogType"==g.type&&(o="/blogType/delBlogType?id="+e),axios.get(o).then(function(e){200==e.code&&(g.$message({message:"删除成功",type:"success"}),g.reloadItems())})})},pageChange:function(e){g.page.pageIndex=e,g.reloadItems()},addItem:function(e,t){if("show"==e&&(g.addItem("close"),g.show.addItem=!0),"edit"==e&&(g.show.addItem=!0,"datasetType"==g.type&&(g.ed.datasetType={id:t.id,name:t.name,additionalDescribe:t.additionalDescribe}),"blogType"==g.type&&(g.ed.blogType={id:t.id,title:t.title,logo:t.logo})),"close"==e&&(g.show.addItem=!1,g.ed.blogType={},g.ed.datasetType={}),"confirm"==e){var o="",a="";"datasetType"==g.type&&(a={id:g.ed.datasetType.id,name:g.ed.datasetType.name,additionalDescribe:g.ed.datasetType.additionalDescribe},g.ed.datasetType.id?o="/datasetType/update":(o="/datasetType/add",delete a.id)),"blogType"==g.type&&(o=g.ed.blogType.id?"/blogType/updateBlogType":"/blogType/addBlogType",a={id:g.ed.blogType.id,title:g.ed.blogType.title,logo:g.ed.blogType.logo}),axios.get(o,{params:a}).then(function(e){g.addItem("close"),200==e.code&&(g.$message({message:"操作成功",type:"success"}),g.reloadItems())})}},reloadItems:function(){var e="",t=this;t.loading.items=!0;t.page.pageIndex,t.page.pageSize;"datasetType"==t.type&&(e="/datasetType/get"),"blogType"==t.type&&(e="/blogType/getBlogTypes"),axios.get(e).then(function(e){t.loading.items=!1,200==e.code&&("datasetType"!=t.type&&"blogType"!=t.type||(t.list.items=e.data.content,t.page.total=e.data.totalElements))})}}},v={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-button",{staticStyle:{margin:"10px 20px"},attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.addItem("show")}}},[e._v(e._s(e.addButtonText))]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.items,expression:"loading.items"}],attrs:{data:e.list.items}},["datasetType"==e.type?a("el-table-column",{attrs:{label:"类型名称","show-overflow-tooltip":!0,prop:"name"}}):e._e(),e._v(" "),"datasetType"==e.type?a("el-table-column",{attrs:{label:"描述","show-overflow-tooltip":!0,prop:"additionalDescribe"}}):e._e(),e._v(" "),"blogType"==e.type?a("el-table-column",{attrs:{label:"论坛类型名","show-overflow-tooltip":!0,prop:"title"}}):e._e(),e._v(" "),a("el-table-column",{attrs:{label:"操作","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit"},on:{click:function(o){return e.addItem("edit",t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(o){return e.delItem(t.row.id)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-pagination",{attrs:{"page-size":e.page.pageSize,"current-page":e.page.pageIndex,total:e.page.total},on:{"current-change":e.pageChange}}),e._v(" "),a("el-dialog",{attrs:{visible:e.show.addItem,title:"编辑/新建","close-on-click-modal":!1},on:{"update:visible":function(t){return e.$set(e.show,"addItem",t)}}},["datasetType"==e.type?a("el-form",{attrs:{"label-position":"left"}},[a("el-form-item",{attrs:{label:"类型名称"}},[a("el-input",{model:{value:e.ed.datasetType.name,callback:function(t){e.$set(e.ed.datasetType,"name","string"==typeof t?t.trim():t)},expression:"ed.datasetType.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"类型描述"}},[a("el-input",{model:{value:e.ed.datasetType.additionalDescribe,callback:function(t){e.$set(e.ed.datasetType,"additionalDescribe","string"==typeof t?t.trim():t)},expression:"ed.datasetType.additionalDescribe"}})],1)],1):e._e(),e._v(" "),"blogType"==e.type?a("el-form",{attrs:{"label-position":"left","label-width":"100px"}},[a("el-form-item",{attrs:{label:"类型名称"}},[a("el-input",{model:{value:e.ed.blogType.title,callback:function(t){e.$set(e.ed.blogType,"title","string"==typeof t?t.trim():t)},expression:"ed.blogType.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"logo"}},[a("el-upload",{attrs:{action:e.imageUploadPath,"show-file-list":!1,"on-success":e.logoUploadSuccess}},[e.ed.blogType.logo?a("img",{staticStyle:{height:"200px",width:"200px"},attrs:{src:e.fileDownloadPath+"?fileCode="+e.ed.blogType.logo}}):a("img",{staticStyle:{height:"200px",width:"200px"},attrs:{src:o("HQ8J")}})])],1)],1):e._e(),e._v(" "),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:5}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addItem("confirm")}}},[e._v("确定")])],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-button",[e._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]};var y="",h={mounted:function(){y=this,window._v=y,this.tab="touristRole",this.reloadTouristRoles(),axios.get("/webConfig/getFrotPermissionStringBackPermissionString")},watch:{},data:function(){return{tab:"",loading:{items:!1},show:{addTouristRole:!1},list:{touristRoles:[],allRoles:[]}}},methods:{addTouristRole:function(e,t){"show"==e&&(y.show.addTouristRole=!0,y.reloadAllRoles()),"close"==e&&(y.show.addTouristRole=!1,y.reloadTouristRoles()),"confirm"==e&&axios.get("/webConfig/addTouristRole?id="+t.id).then(function(e){200==e.code&&(y.$message({message:"添加成功",type:"success"}),y.addTouristRole("close"))}),"del"==e&&axios.get("/webConfig/delTouristRole?id="+t.id).then(function(e){200==e.code&&(y.$message({message:"删除成功",type:"success"}),y.addTouristRole("close"))})},reloadAllRoles:function(){axios.get("/webConfig/getRoles?toTourist=all").then(function(e){200==e.code&&(y.list.allRoles=e.data||[])})},reloadTouristRoles:function(){axios.get("/webConfig/getRoles?toTourist=available").then(function(e){200==e.code&&(y.list.touristRoles=e.data||[])})}}},w={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-tabs",{staticStyle:{"margin-left":"20px"},attrs:{type:"card"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[o("el-tab-pane",{attrs:{label:"游客具有角色",name:"touristRole"}},[o("el-table",{attrs:{data:e.list.touristRoles}},[o("el-table-column",{attrs:{prop:"name",label:"角色名"}}),e._v(" "),o("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{size:"mini"},on:{click:function(o){return e.addTouristRole("del",t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),o("el-button",{staticStyle:{width:"100%",margin:"20px"},on:{click:function(t){return e.addTouristRole("show")}}},[e._v("添加游客角色")])],1)],1),e._v(" "),o("el-dialog",{attrs:{visible:e.show.addTouristRole},on:{close:function(t){e.show.addTouristRole=!1}}},[o("el-table",{attrs:{data:e.list.allRoles}},[o("el-table-column",{attrs:{label:"角色名",prop:"name"}}),e._v(" "),o("el-table-column",{attrs:{label:"是否已经对游客可用",prop:"touristAvailable"}}),e._v(" "),o("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{on:{click:function(o){return e.addTouristRole("confirm",t.row)}}},[e._v("设置为游客角色")])]}}])})],1)],1)],1)},staticRenderFns:[]};var x={components:{backUsers:l,backRoles:c,backPermissions:f,backDatasetType:o("VU/8")(b,v,!1,function(e){o("J/85")},null,null).exports,backWebConfig:o("VU/8")(h,w,!1,function(e){o("1vgp")},null,null).exports},data:function(){return{tab:"user"}},methods:{}},T={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("h1",[e._v("后台管理")]),e._v(" "),o("el-tabs",{attrs:{"tab-position":"left"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[o("el-tab-pane",{attrs:{label:"网站设置",name:"webConfig"}},["webConfig"==e.tab?o("back-web-config"):e._e()],1),e._v(" "),o("el-tab-pane",{attrs:{label:"用户管理",name:"user"}},["user"==e.tab?o("back-users"):e._e()],1),e._v(" "),o("el-tab-pane",{attrs:{label:"角色管理",name:"role"}},["role"==e.tab?o("back-roles"):e._e()],1),e._v(" "),o("el-tab-pane",{attrs:{label:"permission管理",name:"permission"}},["permission"==e.tab?o("back-permissions"):e._e()],1),e._v(" "),o("el-tab-pane",{attrs:{label:"数据类型管理",name:"datasetType"}},["datasetType"==e.tab?o("back-dataset-type"):e._e()],1),e._v(" "),o("el-tab-pane",{attrs:{label:"小黑板专栏",name:"blogType"}},["blogType"==e.tab?o("back-dataset-type",{attrs:{"prop-type":"blogType"}}):e._e()],1)],1)],1)},staticRenderFns:[]};var _=o("VU/8")(x,T,!1,function(e){o("bmoV")},null,null);t.default=_.exports},pEDR:function(e,t){},rVtd:function(e,t){}});